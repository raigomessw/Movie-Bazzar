{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\raibr\\\\Documents\\\\Meus Projetos\\\\Movie-Bazzar\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\raibr\\\\Documents\\\\Meus Projetos\\\\Movie-Bazzar\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport { firestore } from \"firebase\";\nimport firebase from \"firebase/app\";\nimport db from \"./firebaseConfig\";\nexport var saveComm = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            //await setDoc(doc(firestore , \"comments\" ,`${Date.now()}`), data, {merge : true})\n            //const res = await db.collection(\"comments\").doc(`${Date.now()}`).set(data);\n            db.collection(\"comments\").doc(\"\".concat(Date.now())).set(data).then(function () {\n              console.log(\"Document successfully written!\");\n            }).catch(function (error) {\n              console.error(\"Error writing document: \", error);\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function saveComm(_x) {\n    return _ref.apply(this, arguments);\n  };\n}(); // export const fetchcomments = async(film) => {\n// db.collection(\"comments\").where(\"filmId\", \"==\", film)\n// .onSnapshot((querySnapshot) => {\n// var filmcoms = [];\n// querySnapshot.forEach((doc) => {\n// console.log(\"doc is \" , doc)\n// filmcoms.push(doc.data());\n// });\n// console.log(\"List of comments \", filmcoms );\n// return filmcoms\n// });\n// }","map":{"version":3,"sources":["C:/Users/raibr/Documents/Meus Projetos/Movie-Bazzar/src/features/firebaseFunctions.js"],"names":["firestore","firebase","db","saveComm","data","collection","doc","Date","now","set","then","console","log","catch","error"],"mappings":";;AACA,SAASA,SAAT,QAA0B,UAA1B;AAEA,OAAOC,QAAP,MAAqB,cAArB;AAEA,OAAOC,EAAP,MAAe,kBAAf;AAEA,OAAO,IAAMC,QAAQ;AAAA,sEAAG,iBAAMC,IAAN;AAAA;AAAA;AAAA;AAAA;AACxB;AAEA;AAEAF,YAAAA,EAAE,CAACG,UAAH,CAAc,UAAd,EAA0BC,GAA1B,WAAiCC,IAAI,CAACC,GAAL,EAAjC,GAA+CC,GAA/C,CAAmDL,IAAnD,EACCM,IADD,CACM,YAAM;AACZC,cAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACC,aAHD,EAICC,KAJD,CAIO,UAACC,KAAD,EAAW;AAClBH,cAAAA,OAAO,CAACG,KAAR,CAAc,0BAAd,EAA0CA,KAA1C;AACC,aAND;;AALwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAARX,QAAQ;AAAA;AAAA;AAAA,GAAd,C,CAoBP;AAKA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAIA","sourcesContent":["\r\nimport { firestore } from \"firebase\";\r\n\r\nimport firebase from \"firebase/app\";\r\n\r\nimport db from \"./firebaseConfig\";\r\n\r\nexport const saveComm = async(data) => {\r\n//await setDoc(doc(firestore , \"comments\" ,`${Date.now()}`), data, {merge : true})\r\n\r\n//const res = await db.collection(\"comments\").doc(`${Date.now()}`).set(data);\r\n\r\ndb.collection(\"comments\").doc(`${Date.now()}`).set(data)\r\n.then(() => {\r\nconsole.log(\"Document successfully written!\");\r\n})\r\n.catch((error) => {\r\nconsole.error(\"Error writing document: \", error);\r\n});\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// export const fetchcomments = async(film) => {\r\n\r\n\r\n\r\n\r\n// db.collection(\"comments\").where(\"filmId\", \"==\", film)\r\n\r\n// .onSnapshot((querySnapshot) => {\r\n\r\n// var filmcoms = [];\r\n\r\n// querySnapshot.forEach((doc) => {\r\n\r\n// console.log(\"doc is \" , doc)\r\n\r\n// filmcoms.push(doc.data());\r\n\r\n// });\r\n\r\n// console.log(\"List of comments \", filmcoms );\r\n\r\n// return filmcoms\r\n\r\n// });\r\n\r\n\r\n\r\n// }\r\n"]},"metadata":{},"sourceType":"module"}