{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\raibr\\\\Documents\\\\Meus Projetos\\\\Movie-Bazzar\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\raibr\\\\Documents\\\\Meus Projetos\\\\Movie-Bazzar\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\raibr\\\\Documents\\\\Meus Projetos\\\\Movie-Bazzar\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _readOnlyError from \"C:\\\\Users\\\\raibr\\\\Documents\\\\Meus Projetos\\\\Movie-Bazzar\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/readOnlyError\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\raibr\\\\Documents\\\\Meus Projetos\\\\Movie-Bazzar\\\\src\\\\routes\\\\filmsInfo\\\\FilmsInfo.jsx\";\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport Navbar from \"./navBarFilms/NavbarFilmInfo\";\nimport \"../filmsInfo/FilmsInfo.css\";\nimport { actions } from \"../../features/shoppingCart\";\nimport { getAuth, signInAnonymously } from 'firebase/compat/app';\nimport { app } from 'firebase/compat/app';\nimport Comments from \"./Comments\";\n\nvar FilmsInfo = function FilmsInfo() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      filmList = _useState2[0],\n      setfilmList = _useState2[1];\n\n  var dispatch = useDispatch();\n  var listObject = useSelector(function (state) {\n    return state.filmList;\n  });\n  var list = listObject.list;\n  var params = useParams();\n  var imagePath = \"https://image.tmdb.org/t/p/\";\n  list.find(function (movie) {\n    return movie.id == params.id;\n  }), _readOnlyError(\"filmList\"); // const shoppingCartObjects = useSelector(state => state.shoppingCart);\n\n  var movieTitle = filmList.title;\n  var movieImg = filmList.poster_path;\n  var moviePrice = 16.19;\n  var movieToAdd = {\n    name: movieTitle,\n    price: moviePrice,\n    poster: movieImg\n  };\n\n  var AddShoppingCart = function AddShoppingCart() {\n    //const dispatch = useDispatch()\n    console.log(\"adds to the basket\", movieToAdd);\n    dispatch(actions.addToCart(movieToAdd));\n  };\n\n  useEffect(function () {\n    getData();\n  }, []);\n\n  var getData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response, _filmList, apiDataLocal;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"apiData: \", movieSelected);\n\n              if (!(localStorage.getItem(\"savedApiData\") === null)) {\n                _context.next = 13;\n                break;\n              }\n\n              _context.next = 4;\n              return fetch(\"https://api.themoviedb.org/3/discover/movie?api_key=298722d66314704d61c48e8fe9330363&with_genres\");\n\n            case 4:\n              response = _context.sent;\n              _context.next = 7;\n              return response.json();\n\n            case 7:\n              _filmList = _context.sent;\n              setfilmList(_filmList);\n              localStorage.setItem(\"savedApiData\", JSON.stringify(_filmList));\n              console.log(\"saved apidata: \", _filmList);\n              _context.next = 16;\n              break;\n\n            case 13:\n              apiDataLocal = JSON.parse(localStorage.getItem(\"savedApiData\"));\n              setfilmList(apiDataLocal);\n              console.log(\"local Saved apiData: \", apiDataLocal);\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie-body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie-info-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"top\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"img-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"\".concat(imagePath, \"/w500/\").concat(filmList.poster_path),\n    alt: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"general-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title_movie\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 20\n    }\n  }, filmList.title)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"language\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, \"Language:\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"movie-language\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, filmList.original_language)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rating\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, \"Rating:\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, filmList.vote_average)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"polularity\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, \"Popularity:\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, filmList.popularity)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie_id\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, \"Movie#\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, filmList.id)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie_date\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, \"Release date:\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, filmList.release_date)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie_price\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, \"Price:\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, moviePrice, \"$\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie-buttons\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: AddShoppingCart,\n    className: \"buy\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, \"Add to cart\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, filmList.overview))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"img-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"\".concat(imagePath, \"/w500/\").concat(filmList.backdrop_path),\n    alt: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(Comments, {\n    film: filmList,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  })), \"//movie-body ends\");\n};\n\nexport default FilmsInfo;","map":{"version":3,"sources":["C:/Users/raibr/Documents/Meus Projetos/Movie-Bazzar/src/routes/filmsInfo/FilmsInfo.jsx"],"names":["React","useState","useEffect","useDispatch","useSelector","useParams","Navbar","actions","getAuth","signInAnonymously","app","Comments","FilmsInfo","filmList","setfilmList","dispatch","listObject","state","list","params","imagePath","find","movie","id","movieTitle","title","movieImg","poster_path","moviePrice","movieToAdd","name","price","poster","AddShoppingCart","console","log","addToCart","getData","movieSelected","localStorage","getItem","fetch","response","json","setItem","JSON","stringify","apiDataLocal","parse","original_language","vote_average","popularity","release_date","overview","backdrop_path"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Navbar from \"./navBarFilms/NavbarFilmInfo\";\r\nimport \"../filmsInfo/FilmsInfo.css\";\r\nimport { actions } from \"../../features/shoppingCart\";\r\nimport { getAuth, signInAnonymously } from 'firebase/compat/app';\r\nimport { app } from 'firebase/compat/app';\r\nimport Comments from \"./Comments\";\r\n\r\nconst FilmsInfo = () => {\r\n  const [filmList, setfilmList] = useState([]);\r\n\r\n\r\n\r\n  const dispatch = useDispatch();\r\n  const listObject = useSelector((state) => state.filmList);\r\n  const list = listObject.list;\r\n\r\n  const params = useParams();\r\n  const imagePath = \"https://image.tmdb.org/t/p/\";\r\n  filmList = list.find((movie) => movie.id == params.id);\r\n\r\n // const shoppingCartObjects = useSelector(state => state.shoppingCart);\r\n\r\n  let movieTitle = (filmList.title)\r\n  const movieImg = (filmList.poster_path)\r\n  let moviePrice = 16.19;\r\n\r\n  const movieToAdd = {\r\n\r\n      name: movieTitle,\r\n      price: moviePrice,\r\n      poster: movieImg\r\n  }\r\n\r\n\r\n  const AddShoppingCart = () => {\r\n    //const dispatch = useDispatch()\r\n\r\n    console.log(\"adds to the basket\" , movieToAdd)\r\n    dispatch(actions.addToCart(movieToAdd));\r\n  }\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  },[]);\r\n\r\n    const getData = async () => {\r\n        console.log(\"apiData: \", movieSelected);\r\n\r\n          if(localStorage.getItem(\"savedApiData\") === null) {\r\n            // localStorage.setItem(\"savedApiData\", JSON.stringify([]));\r\n\r\n            const response = await fetch(\r\n             `https://api.themoviedb.org/3/discover/movie?api_key=298722d66314704d61c48e8fe9330363&with_genres`\r\n            );\r\n            const filmList = await response.json();\r\n            setfilmList(filmList);\r\n            localStorage.setItem(\"savedApiData\", JSON.stringify(filmList));\r\n            console.log(\"saved apidata: \", filmList);\r\n\r\n          } else {\r\n            let apiDataLocal = JSON.parse(localStorage.getItem(\"savedApiData\"));\r\n            setfilmList(apiDataLocal);\r\n            console.log(\"local Saved apiData: \", apiDataLocal);\r\n          }\r\n        };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <div className=\"movie-body\">\r\n        <div className=\"movie-container\">\r\n          <div className=\"card\">\r\n            <div className=\"movie-info-container\">\r\n              <div className=\"top\">\r\n                <div className=\"img-1\">\r\n                  <img\r\n                    src={`${imagePath}/w500/${filmList.poster_path}`}\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n                <div className=\"general-info\">\r\n                  <div className=\"title_movie\">\r\n                   <h2>{filmList.title}</h2>\r\n                  </div>\r\n                  <div className=\"language\">\r\n                    <span>Language:</span>\r\n                    <span className=\"movie-language\">\r\n                      {filmList.original_language}\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div className=\"rating\">\r\n                    <span>Rating:</span>\r\n                    <span>{filmList.vote_average}</span>\r\n                  </div>\r\n                  <div className=\"polularity\">\r\n                    <span>Popularity:</span>\r\n                    <span>{filmList.popularity}</span>\r\n                  </div>\r\n                  <div className=\"movie_id\">\r\n                    <span>Movie#</span>\r\n                    <span>{filmList.id}</span>\r\n                  </div>\r\n                  <div className=\"movie_date\">\r\n                    <span>Release date:</span>\r\n                    <span>{filmList.release_date}</span>\r\n                  </div>\r\n                  <div className=\"movie_price\">\r\n                    <span>Price:</span>\r\n                    <span>{moviePrice}$</span>\r\n                  </div>\r\n                  <div className=\"movie-buttons\">\r\n                    <button onClick={AddShoppingCart} className=\"buy\">\r\n                      Add to cart\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"movie-info\">\r\n                <p>{filmList.overview}</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"img-2\">\r\n              <img\r\n                src={`${imagePath}/w500/${filmList.backdrop_path}`}\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n          <Comments film={filmList}/>\r\n      </div>\r\n      //movie-body ends\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilmsInfo;\r\n"]},"metadata":{},"sourceType":"module"}