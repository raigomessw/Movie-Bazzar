{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\raibr\\\\Documents\\\\Meus Projetos\\\\Movie-Bazzar\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"C:\\\\Users\\\\raibr\\\\Documents\\\\Meus Projetos\\\\Movie-Bazzar\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\raibr\\\\Documents\\\\Meus Projetos\\\\Movie-Bazzar\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\n\nvar _createReducer;\n\nimport { createAction, createReducer } from \"@reduxjs/toolkit\";\nvar addToCart = createAction('add to cart');\nvar removeFromCart = createAction('remove from cart');\nvar increaseAmount = createAction('increase amount');\nvar decreaseAmount = createAction('decrease amount');\nvar actions = {\n  addToCart: addToCart,\n  removeFromCart: removeFromCart,\n  increaseAmount: increaseAmount,\n  decreaseAmount: decreaseAmount\n};\nvar initialState = [];\nvar reducer = createReducer(initialState, (_createReducer = {}, _defineProperty(_createReducer, addToCart, function (state, action) {\n  var found = state.find(function (cartItem) {\n    return cartItem.product.name === action.payload.name;\n  });\n\n  if (found) {\n    // om produkten redan finns i vår kundvagn\n    var newState = state.map(function (cartItem) {\n      if (cartItem.product.name === action.payload.name) {\n        return _objectSpread({}, cartItem, {\n          count: cartItem.count + 1\n        });\n      } else {\n        return cartItem;\n      }\n    });\n    return newState;\n  } else {\n    // om produkten inte finns redan\n    return [].concat(_toConsumableArray(state), [{\n      product: action.payload,\n      count: 1\n    }]);\n  }\n}), _defineProperty(_createReducer, increaseAmount, function (state, action) {\n  return state.map(function (cartItem) {\n    if (cartItem.product.name === action.payload.name) {\n      return _objectSpread({}, cartItem, {\n        count: cartItem.count + 1\n      });\n    } else {\n      return cartItem;\n    }\n  });\n}), _defineProperty(_createReducer, decreaseAmount, function (state, action) {\n  return state.map(function (cartItem) {\n    if (cartItem.product.name === action.payload.name) {\n      return _objectSpread({}, cartItem, {\n        count: cartItem.count - 1\n      });\n    } else {\n      return cartItem;\n    }\n  });\n}), _defineProperty(_createReducer, removeFromCart, function (state, action) {\n  return state.filter(function (cartItem) {\n    return cartItem.product.name !== action.payload.name;\n  });\n}), _createReducer));\nexport { actions, reducer };","map":{"version":3,"names":["createAction","createReducer","addToCart","removeFromCart","increaseAmount","decreaseAmount","actions","initialState","reducer","state","action","found","find","cartItem","product","name","payload","newState","map","count","filter"],"sources":["C:/Users/raibr/Documents/Meus Projetos/Movie-Bazzar/src/features/shoppingCart.js"],"sourcesContent":["import { createAction, createReducer } from \"@reduxjs/toolkit\";\r\n\r\n\r\nconst addToCart = createAction('add to cart');\r\nconst removeFromCart = createAction('remove from cart');\r\nconst increaseAmount = createAction('increase amount');\r\nconst decreaseAmount = createAction('decrease amount'); \r\n\r\n\r\nconst actions = { addToCart, removeFromCart, increaseAmount, decreaseAmount};\r\n    \r\nconst initialState = []; \r\n\r\n\r\nconst reducer = createReducer( initialState, {\r\n    [addToCart] : (state, action) => {\r\n        const found = state.find(cartItem => cartItem.product.name === action.payload.name);\r\n        if ( found ) {\r\n            // om produkten redan finns i vår kundvagn\r\n            const newState = state.map(cartItem => {\r\n                if (cartItem.product.name === action.payload.name) {\r\n                    return { ...cartItem, count: cartItem.count + 1}\r\n                } else {\r\n                    return cartItem;\r\n                }\r\n            })\r\n            return newState;\r\n        } else {\r\n            // om produkten inte finns redan\r\n            return [ \r\n                    ...state,\r\n                    { product: action.payload,  count: 1}\r\n                ]\r\n        }\r\n    },\r\n\r\n    [increaseAmount] : (state, action) => ( \r\n        state.map(cartItem => {\r\n            if (cartItem.product.name === action.payload.name) {\r\n                return { ...cartItem, count: cartItem.count + 1}\r\n            } else {\r\n                return cartItem;\r\n            }\r\n        })\r\n    ),\r\n\r\n    // ToDo: om count blir 0 så borde objectewt tas bort\r\n    [decreaseAmount] : (state , action ) => (\r\n        state.map(cartItem => {\r\n            if (cartItem.product.name === action.payload.name) {\r\n                return { ...cartItem, count: cartItem.count - 1}\r\n            } else {\r\n                return cartItem;\r\n            }\r\n        })\r\n    ),\r\n\r\n    // [removeFromCart] : (state, action) => {\r\n    //     let newstate = [];\r\n    //     state.foreach(cartItem => {\r\n    //         if (cartItem.product.name !== action.payload.name) {\r\n    //             newstate.push(cartItem);\r\n    //         }\r\n    //     })\r\n    //     return newstate;\r\n    // }\r\n\r\n    \r\n        \r\n    [removeFromCart] : (state, action ) => (\r\n        \r\n        state.filter(cartItem => cartItem.product.name !== action.payload.name)\r\n    )    \r\n\r\n});\r\n\r\nexport { actions, reducer };"],"mappings":";;;;;;AAAA,SAASA,YAAT,EAAuBC,aAAvB,QAA4C,kBAA5C;AAGA,IAAMC,SAAS,GAAGF,YAAY,CAAC,aAAD,CAA9B;AACA,IAAMG,cAAc,GAAGH,YAAY,CAAC,kBAAD,CAAnC;AACA,IAAMI,cAAc,GAAGJ,YAAY,CAAC,iBAAD,CAAnC;AACA,IAAMK,cAAc,GAAGL,YAAY,CAAC,iBAAD,CAAnC;AAGA,IAAMM,OAAO,GAAG;EAAEJ,SAAS,EAATA,SAAF;EAAaC,cAAc,EAAdA,cAAb;EAA6BC,cAAc,EAAdA,cAA7B;EAA6CC,cAAc,EAAdA;AAA7C,CAAhB;AAEA,IAAME,YAAY,GAAG,EAArB;AAGA,IAAMC,OAAO,GAAGP,aAAa,CAAEM,YAAF,wDACxBL,SADwB,EACX,UAACO,KAAD,EAAQC,MAAR,EAAmB;EAC7B,IAAMC,KAAK,GAAGF,KAAK,CAACG,IAAN,CAAW,UAAAC,QAAQ;IAAA,OAAIA,QAAQ,CAACC,OAAT,CAAiBC,IAAjB,KAA0BL,MAAM,CAACM,OAAP,CAAeD,IAA7C;EAAA,CAAnB,CAAd;;EACA,IAAKJ,KAAL,EAAa;IACT;IACA,IAAMM,QAAQ,GAAGR,KAAK,CAACS,GAAN,CAAU,UAAAL,QAAQ,EAAI;MACnC,IAAIA,QAAQ,CAACC,OAAT,CAAiBC,IAAjB,KAA0BL,MAAM,CAACM,OAAP,CAAeD,IAA7C,EAAmD;QAC/C,yBAAYF,QAAZ;UAAsBM,KAAK,EAAEN,QAAQ,CAACM,KAAT,GAAiB;QAA9C;MACH,CAFD,MAEO;QACH,OAAON,QAAP;MACH;IACJ,CANgB,CAAjB;IAOA,OAAOI,QAAP;EACH,CAVD,MAUO;IACH;IACA,oCACWR,KADX,IAEQ;MAAEK,OAAO,EAAEJ,MAAM,CAACM,OAAlB;MAA4BG,KAAK,EAAE;IAAnC,CAFR;EAIH;AACJ,CApBwB,mCAsBxBf,cAtBwB,EAsBN,UAACK,KAAD,EAAQC,MAAR;EAAA,OACfD,KAAK,CAACS,GAAN,CAAU,UAAAL,QAAQ,EAAI;IAClB,IAAIA,QAAQ,CAACC,OAAT,CAAiBC,IAAjB,KAA0BL,MAAM,CAACM,OAAP,CAAeD,IAA7C,EAAmD;MAC/C,yBAAYF,QAAZ;QAAsBM,KAAK,EAAEN,QAAQ,CAACM,KAAT,GAAiB;MAA9C;IACH,CAFD,MAEO;MACH,OAAON,QAAP;IACH;EACJ,CAND,CADe;AAAA,CAtBM,mCAiCxBR,cAjCwB,EAiCN,UAACI,KAAD,EAASC,MAAT;EAAA,OACfD,KAAK,CAACS,GAAN,CAAU,UAAAL,QAAQ,EAAI;IAClB,IAAIA,QAAQ,CAACC,OAAT,CAAiBC,IAAjB,KAA0BL,MAAM,CAACM,OAAP,CAAeD,IAA7C,EAAmD;MAC/C,yBAAYF,QAAZ;QAAsBM,KAAK,EAAEN,QAAQ,CAACM,KAAT,GAAiB;MAA9C;IACH,CAFD,MAEO;MACH,OAAON,QAAP;IACH;EACJ,CAND,CADe;AAAA,CAjCM,mCAuDxBV,cAvDwB,EAuDN,UAACM,KAAD,EAAQC,MAAR;EAAA,OAEfD,KAAK,CAACW,MAAN,CAAa,UAAAP,QAAQ;IAAA,OAAIA,QAAQ,CAACC,OAAT,CAAiBC,IAAjB,KAA0BL,MAAM,CAACM,OAAP,CAAeD,IAA7C;EAAA,CAArB,CAFe;AAAA,CAvDM,mBAA7B;AA8DA,SAAST,OAAT,EAAkBE,OAAlB"},"metadata":{},"sourceType":"module"}